ALTER TABLE POS.OWNER_FOOD_CONSUMPTION
 DROP PRIMARY KEY CASCADE;

DROP TABLE POS.OWNER_FOOD_CONSUMPTION CASCADE CONSTRAINTS;

CREATE TABLE POS.OWNER_FOOD_CONSUMPTION
(
  CONSUMPTION_ID  NUMBER,
  OWNER_ID        VARCHAR2(10 BYTE),
  ITEM_ID         NUMBER,
  QUANTITY        NUMBER,
  CONSUME_DATE    DATE,
  REMARKS         VARCHAR2(500 BYTE),
  UPDATE_BY       VARCHAR2(10 BYTE),
  UPDATE_DATE     DATE,
  PRICE           NUMBER,
  MEMBER_ID       VARCHAR2(10 BYTE),
  COMPLETED_YN    VARCHAR2(1 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX POS.OWNER_FOOD_CONSUMPTION_PK ON POS.OWNER_FOOD_CONSUMPTION
(CONSUMPTION_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


ALTER TABLE POS.OWNER_FOOD_CONSUMPTION ADD (
  CONSTRAINT OWNER_FOOD_CONSUMPTION_PK
  PRIMARY KEY
  (CONSUMPTION_ID)
  USING INDEX POS.OWNER_FOOD_CONSUMPTION_PK);

ALTER TABLE POS.OWNER_FOOD_CONSUMPTION ADD (
  CONSTRAINT OWNER_FOOD_CONSUMPTION_R01 
  FOREIGN KEY (ITEM_ID) 
  REFERENCES POS.L_ITEM (ITEM_ID),
  CONSTRAINT OWNER_FOOD_CONSUMPTION_R02 
  FOREIGN KEY (MEMBER_ID) 
  REFERENCES POS.MEMBERSHIP (MEMBER_ID));
